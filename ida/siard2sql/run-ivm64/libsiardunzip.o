##:ivm64:obj-id: 6d7.libsiardunzip.c
# This is a GCC-generated ivm64 assembly object file
# GCC Cross Compiler for ivm64, version 3.4 (May 17 2024, 14:22:13)
#	.file	"libsiardunzip.c"
#	.text

#:ivm64:#FUNCTION_START
# FUNCTION BEGINS: IDA_unzip
	EXPORT	IDA_unzip
IDA_unzip:
	push! 0
	load8! &3
	load8! &3
	call! IDA_miniunz_do_unzip
	store8! &2
	store8! &0
	load4! &0
	store4! &3
	store8! &0
	return

# FUNCTION ENDS: IDA_unzip
#:ivm64:#FUNCTION_END


#:ivm64:#FUNCTION_START
# FUNCTION BEGINS: IDA_unzip_siard_full
	EXPORT	IDA_unzip_siard_full
IDA_unzip_siard_full:
	push! 0
	push! 0
	load8! &3
	call! IDA_miniunz_do_unzip
	store8! &2
	store8! &0
	load4! &0
	store4! &3
	store8! &0
	return

# FUNCTION ENDS: IDA_unzip_siard_full
#:ivm64:#FUNCTION_END

.LC0.l.6d7.libsiardunzip.c:
#	 .string "header/metadata.xml"
	data1 [ 104 101 97 100 101 114 47 109 101 116 97 100 97 116 97 46 120 109 108 0 ]

#:ivm64:#FUNCTION_START
# FUNCTION BEGINS: IDA_unzip_siard_metadata
	EXPORT	IDA_unzip_siard_metadata
IDA_unzip_siard_metadata:
	push! 0
	push! .LC0.l.6d7.libsiardunzip.c
	load8! &3
	call! IDA_miniunz_do_unzip
	store8! &2
	store8! &0
	load4! &0
	store4! &3
	store8! &0
	return

# FUNCTION ENDS: IDA_unzip_siard_metadata
#:ivm64:#FUNCTION_END

.LC1.l.6d7.libsiardunzip.c:
#	 .string "/"
	data1 [ 47 0 ]
.LC2.l.6d7.libsiardunzip.c:
#	 .string "./header/siardversion"
	data1 [ 46 47 104 101 97 100 101 114 47 115 105 97 114 100 118 101 114 115 105 111 110 0 ]

#:ivm64:#FUNCTION_START
# FUNCTION BEGINS: IDA_get_siard_version_from_dir
	EXPORT	IDA_get_siard_version_from_dir
IDA_get_siard_version_from_dir:
	set_sp! &-265
	load8! &267
	store8! &4
	load8! &268
	store8! &6
	push! 1023
	load8! &267
	push! &0
	add! 88
	call! strncpy
	set_sp! &3
	push! &0
	add! 72
	call! strlen
	store8! &1
	load8! &0
	store8! &3
	push! &0
	add! 72
	load8! &1
	add
	store8! &1
	push! 1
	push! .LC1.l.6d7.libsiardunzip.c
	load8! &2
	call! memcpy
	set_sp! &3
	store8! &0
	load8! &1
	push! 1
	add
	push! &0
	add! 72
	load8! &1
	add
	store8! &1
	push! 22
	push! .LC2.l.6d7.libsiardunzip.c
	load8! &2
	call! memcpy
	set_sp! &3
	push! 0
	store1! (+ &0 1103)
	push! alphasort
	push! 0
	push! &0
	add! 80
	push! &0
	add! 96
	call! scandir
	store8! &4
	set_sp! &3
	load4! &0
	push! 4294967295
	xor
	jump_zero! .L8.l.6d7.libsiardunzip.c
	load4! &0
	xor! 2147483648
	add! -2147483648
	store8! &8
	load4! &0
	xor! 0x80000000
	lt_u! 2147483649
	jump_zero! .L9.l.6d7.libsiardunzip.c
.L13.l.6d7.libsiardunzip.c:
	load8! &8
	call! free
	store8! &0
.L8.l.6d7.libsiardunzip.c:
	push! 0
	store8! &4
	jump! .L7.l.6d7.libsiardunzip.c
.L9.l.6d7.libsiardunzip.c:
	load8! &5
	add! -1
	load8! &4
	add
	store8! &7
	push! 0
	store8! &3
.L12.l.6d7.libsiardunzip.c:
	load8! &2
	shift_l! 3
	load8! &9
	add
	load8
	load8! &0
	store8! &6
	add! 25
	store8! &1
	push! 1024
	load8! &1
	push! &0
	add! 1112
	call! strncpy
	set_sp! &3
	push! 0
	store1! (+ &0 2127)
	push! &0
	add! 1096
	call! basename
	store8! &1
	load8! &5
	load8! &1
	load8! &5
	call! strncpy
	set_sp! &3
	push! 0
	load8! &7
	store1
	load8! &3
	jump_zero! .L11.l.6d7.libsiardunzip.c
	store8! &0
	load8! &2
	load1
	load1! &0
	jump_zero! .L11.l.6d7.libsiardunzip.c
	load1! &0
	push! 46
	xor
	jump_zero! .L11.l.6d7.libsiardunzip.c
	load8! &8
	call! free
	store8! &0
	jump! .L7.l.6d7.libsiardunzip.c
.L11.l.6d7.libsiardunzip.c:
	load8! &4
	call! free
	store8! &0
	load8! &2
	add! 1
	store8! &3
	load8! &2
	load8! &8
	xor
	push! 1
	lt_u
	jump_zero! .L12.l.6d7.libsiardunzip.c
	jump! .L13.l.6d7.libsiardunzip.c
.L7.l.6d7.libsiardunzip.c:
	load8! &3
	store8! &267
	set_sp! &265
	return

# FUNCTION ENDS: IDA_get_siard_version_from_dir
#:ivm64:#FUNCTION_END

#	IMPORT basename
#	IMPORT free
#	IMPORT scandir
#	IMPORT alphasort
#	IMPORT memcpy
#	IMPORT strlen
#	IMPORT strncpy
#	IMPORT IDA_miniunz_do_unzip
#	.ident	"GCC: (ivm64-3.4) 12.2.0"
